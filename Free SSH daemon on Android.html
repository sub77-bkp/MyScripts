<!DOCTYPE html>
<!-- saved from url=(0069)http://carlo-hamalainen.net/blog/2014/9/14/free-ssh-daemon-on-android -->
<html class="js" lang="en"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><title>Free SSH daemon on Android</title><meta name="description" content=""><meta name="author" content=""><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="http://carlo-hamalainen.net/static/css/bootstrap.css?etag=QRP3qj9r"><!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]--><script>document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/,'js');</script><style type="text/css">::-webkit-scrollbar-track-piece:vertical {background-color:undefined;-webkit-border-radius: 0px;}::-webkit-scrollbar-track-piece:horizontal {background-color:undefined-webkit-border-radius: 5px;}::-webkit-scrollbar {width: 9px;height: 9px;}::-webkit-scrollbar-thumb{ background-color:#F88017; -webkit-border-radius:6px;}::-webkit-scrollbar-thumb:hover{background-color:#F88017;!important -webkit-border-radius:6px;}</style><style type="text/css"></style><script type="text/javascript" charset="UTF-8" src="./Free SSH daemon on Android_files/naNgw7IA0AXushX_kCLqNP65BaHnFDIS1kKzvOHnMVQ.js"></script><style type="text/css">.recaptchatable td img{display:block}.recaptchatable .recaptcha_r1_c1{background:url('http://www.google.com/recaptcha/api/img/red/sprite.png') 0 -63px no-repeat;width:318px;height:9px}.recaptchatable .recaptcha_r2_c1{background:url('http://www.google.com/recaptcha/api/img/red/sprite.png') -18px 0 no-repeat;width:9px;height:57px}.recaptchatable .recaptcha_r2_c2{background:url('http://www.google.com/recaptcha/api/img/red/sprite.png') -27px 0 no-repeat;width:9px;height:57px}.recaptchatable .recaptcha_r3_c1{background:url('http://www.google.com/recaptcha/api/img/red/sprite.png') 0 0 no-repeat;width:9px;height:63px}.recaptchatable .recaptcha_r3_c2{background:url('http://www.google.com/recaptcha/api/img/red/sprite.png') -18px -57px no-repeat;width:300px;height:6px}.recaptchatable .recaptcha_r3_c3{background:url('http://www.google.com/recaptcha/api/img/red/sprite.png') -9px 0 no-repeat;width:9px;height:63px}.recaptchatable .recaptcha_r4_c1{background:url('http://www.google.com/recaptcha/api/img/red/sprite.png') -43px 0 no-repeat;width:171px;height:49px}.recaptchatable .recaptcha_r4_c2{background:url('http://www.google.com/recaptcha/api/img/red/sprite.png') -36px 0 no-repeat;width:7px;height:57px}.recaptchatable .recaptcha_r4_c4{background:url('http://www.google.com/recaptcha/api/img/red/sprite.png') -214px 0 no-repeat;width:97px;height:57px}.recaptchatable .recaptcha_r7_c1{background:url('http://www.google.com/recaptcha/api/img/red/sprite.png') -43px -49px no-repeat;width:171px;height:8px}.recaptchatable .recaptcha_r8_c1{background:url('http://www.google.com/recaptcha/api/img/red/sprite.png') -43px -49px no-repeat;width:25px;height:8px}.recaptchatable .recaptcha_image_cell center img{height:57px}.recaptchatable .recaptcha_image_cell center{height:57px}.recaptchatable .recaptcha_image_cell{background-color:white;height:57px}#recaptcha_area,#recaptcha_table{width:318px!important}.recaptchatable,#recaptcha_area tr,#recaptcha_area td,#recaptcha_area th{margin:0!important;border:0!important;padding:0!important;border-collapse:collapse!important;vertical-align:middle!important}.recaptchatable *{margin:0;padding:0;border:0;font-family:helvetica,sans-serif;font-size:8pt;color:black;position:static;top:auto;left:auto;right:auto;bottom:auto}.recaptchatable #recaptcha_image{position:relative;margin:auto}.recaptchatable #recaptcha_image #recaptcha_challenge_image{display:block}.recaptchatable #recaptcha_image #recaptcha_ad_image{display:block;position:absolute;top:0}.recaptchatable img{border:0!important;margin:0!important;padding:0!important}.recaptchatable a,.recaptchatable a:hover{cursor:pointer;outline:none;border:0!important;padding:0!important;text-decoration:none;color:blue;background:none!important;font-weight:normal}.recaptcha_input_area{position:relative!important;width:153px!important;height:45px!important;margin-left:7px!important;margin-right:7px!important;background:none!important}.recaptchatable label.recaptcha_input_area_text{margin:0!important;padding:0!important;position:static!important;top:auto!important;left:auto!important;right:auto!important;bottom:auto!important;background:none!important;height:auto!important;width:auto!important}.recaptcha_theme_red label.recaptcha_input_area_text,.recaptcha_theme_white label.recaptcha_input_area_text{color:black!important}.recaptcha_theme_blackglass label.recaptcha_input_area_text{color:white!important}.recaptchatable #recaptcha_response_field{width:153px!important;position:relative!important;bottom:7px!important;padding:0!important;margin:15px 0 0 0!important;font-size:10pt}.recaptcha_theme_blackglass #recaptcha_response_field,.recaptcha_theme_white #recaptcha_response_field{border:1px solid gray}.recaptcha_theme_red #recaptcha_response_field{border:1px solid #cca940}.recaptcha_audio_cant_hear_link{font-size:7pt;color:black}.recaptchatable{line-height:1!important}#recaptcha_instructions_error{color:red!important}.recaptcha_only_if_privacy{float:right;text-align:right}#recaptcha-ad-choices{position:absolute;height:15px;top:0;right:0}#recaptcha-ad-choices img{height:15px}.recaptcha-ad-choices-collapsed{width:30px;height:15px;display:block}.recaptcha-ad-choices-expanded{width:75px;height:15px;display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-collapsed{display:none}#recaptcha-ad-choices:hover .recaptcha-ad-choices-expanded{display:block}

.recaptcha_is_showing_audio .recaptcha_only_if_image,.recaptcha_isnot_showing_audio .recaptcha_only_if_audio,.recaptcha_had_incorrect_sol .recaptcha_only_if_no_incorrect_sol,.recaptcha_nothad_incorrect_sol .recaptcha_only_if_incorrect_sol{display:none !important}</style><script type="text/javascript" src="./Free SSH daemon on Android_files/reload"></script><script type="text/javascript" src="./Free SSH daemon on Android_files/reload(1)"></script><script type="text/javascript" src="./Free SSH daemon on Android_files/reload(2)"></script><script type="text/javascript" src="./Free SSH daemon on Android_files/reload(3)"></script></head><body><div class="container"><header></header><div id="main" role="main"><p align="right"></p><h1><a href="http://carlo-hamalainen.net/blog">Carlo Hamalainen</a><p></p>
<hr>
</h1><h1>Free SSH daemon on Android</h1>
<h3>2014-09-14</h3>
<article><p> In the past I have used SSHDroid to ssh into my phone. But recently
the app seems to have split into a free and paid-for version, and you
<a href="http://forum.xda-developers.com/showthread.php?t=921801">can't use ssh keys with the free version</a>
(as far as I can tell). So I went looking for a simple way to run an
ssh daemon. </p>

<p> <a href="https://github.com/guardianproject/lildebi">Lil' Debian</a> lets you run Debian in a chroot environment on Android. It automatically mounts the Android file system for you, and also runs sshd automatically. Installing it was completely straightforward (I did it via <a href="https://f-droid.org/">F-Droid</a>). My <a href="https://github.com/carlohamalainen/dotfiles/blob/master/cyanogenmod.md">notes</a> on installing CyanogenMod and F-Droid are below, but you could also install Lil' Debian via the normal Play Store.</p>

<p> <script src="./Free SSH daemon on Android_files/cyanogenmod.md"></script><script type="text/javascript" src="./Free SSH daemon on Android_files/prettify.js"></script><link rel="stylesheet" href="http://gist-it.appspot.com/assets/embed.css"><link rel="stylesheet" href="http://gist-it.appspot.com/assets/prettify/prettify.css"></p><div class="gist-it-gist">
<div class="gist-file">
    <div class="gist-data">
        
        <pre class="prettyprint"><span class="com"># CyanogenMod on Samsung S3 using Debian Jessie</span><span class="pln"><br><br></span><span class="typ">Notes</span><span class="pln"> on installing </span><span class="pun">[</span><span class="typ">CyanogenMod</span><span class="pun">](</span><span class="pln">http</span><span class="pun">:</span><span class="com">//www.cyanogenmod.org/) on a Samsung S3 (i9300) using a Debian Jessie host.</span><span class="pln"><br><br></span><span class="com">## Disclaimer</span><span class="pln"><br><br></span><span class="typ">You</span><span class="pln"> can brick your phone</span><span class="pun">.</span><span class="pln"> </span><span class="typ">Take</span><span class="pln"> care</span><span class="pun">.</span><span class="pln"><br><br></span><span class="com">## Debian prerequisites</span><span class="pln"><br><br>&nbsp; &nbsp; sudo apt</span><span class="pun">-</span><span class="kwd">get</span><span class="pln"> install libudev1 libudev</span><span class="pun">-</span><span class="pln">dev &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span class="pun">\</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libusb</span><span class="pun">-</span><span class="lit">1.0</span><span class="pun">-</span><span class="lit">0</span><span class="pln"> libusb</span><span class="pun">-</span><span class="lit">1.0</span><span class="pun">-</span><span class="lit">0</span><span class="pun">-</span><span class="pln">dev &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">\</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;build</span><span class="pun">-</span><span class="pln">essential pkg</span><span class="pun">-</span><span class="pln">config zlib1g</span><span class="pun">-</span><span class="pln">dev &nbsp;</span><span class="pun">\</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;libusb</span><span class="pun">-</span><span class="pln">dev libqt4</span><span class="pun">-</span><span class="pln">dev qt4</span><span class="pun">-</span><span class="pln">qmake &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">\</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;autoconf libtool libusb</span><span class="pun">-</span><span class="lit">1.0</span><span class="pun">-</span><span class="lit">0</span><span class="pun">-</span><span class="pln">dev &nbsp; &nbsp; &nbsp;</span><span class="pun">\</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;qt5</span><span class="pun">-</span><span class="kwd">default</span><span class="pln"><br><br></span><span class="com">## Heimdall</span><span class="pln"><br><br>&nbsp; &nbsp; git clone git</span><span class="pun">:</span><span class="com">//github.com/Benjamin-Dobell/Heimdall.git</span><span class="pln"><br><br></span><span class="typ">Old</span><span class="pln"> build instructions</span><span class="pun">:</span><span class="pln"><br><br>&nbsp; &nbsp; cd </span><span class="typ">Heimdall</span><span class="pun">/</span><span class="pln">libpit<br>&nbsp; &nbsp; </span><span class="pun">./</span><span class="pln">autogen</span><span class="pun">.</span><span class="pln">sh<br>&nbsp; &nbsp; </span><span class="pun">./</span><span class="pln">configure<br>&nbsp; &nbsp; make<br>&nbsp; &nbsp; cd </span><span class="pun">../</span><span class="pln">heimdall<br>&nbsp; &nbsp; </span><span class="pun">./</span><span class="pln">autogen</span><span class="pun">.</span><span class="pln">sh<br>&nbsp; &nbsp; </span><span class="pun">./</span><span class="pln">configure<br>&nbsp; &nbsp; make<br>&nbsp; &nbsp; sudo su </span><span class="pun">-</span><span class="pln">c </span><span class="str">'make install'</span><span class="pln"><br>&nbsp; &nbsp; cd </span><span class="pun">../</span><span class="pln">heimdall</span><span class="pun">-</span><span class="pln">frontend</span><span class="pun">/</span><span class="pln"><br>&nbsp; &nbsp; qmake</span><span class="pun">-</span><span class="pln">qt4 heimdall</span><span class="pun">-</span><span class="pln">frontend</span><span class="pun">.</span><span class="pln">pro<br>&nbsp; &nbsp; make<br>&nbsp; &nbsp; sudo su </span><span class="pun">-</span><span class="pln">c </span><span class="str">'make install'</span><span class="pln"><br><br></span><span class="typ">New</span><span class="pln"> build instructions </span><span class="pun">(</span><span class="kwd">not</span><span class="pln"> tested</span><span class="pun">):</span><span class="pln"><br><br>&nbsp; &nbsp; cd </span><span class="typ">Heimdall</span><span class="pln"><br>&nbsp; &nbsp; mkdir build<br>&nbsp; &nbsp; cd build<br>&nbsp; &nbsp; cmake </span><span class="pun">-</span><span class="pln">DCMAKE_BUILD_TYPE</span><span class="pun">=</span><span class="typ">Release</span><span class="pln"> </span><span class="pun">..</span><span class="pln"><br>&nbsp; &nbsp; make<br><br></span><span class="typ">After</span><span class="pln"> installing </span><span class="typ">Heimdall</span><span class="pun">,</span><span class="pln"> reset udev </span><span class="kwd">or</span><span class="pln"> reboot</span><span class="pun">.</span><span class="pln"><br><br></span><span class="com">## Flash the clockwork recovery</span><span class="pln"><br><br></span><span class="typ">Start</span><span class="pln"> </span><span class="kwd">with</span><span class="pln"> the phone off </span><span class="kwd">and</span><span class="pln"> disconnected</span><span class="pun">.</span><span class="pln"><br><br></span><span class="lit">1.</span><span class="pln"> </span><span class="typ">Boot</span><span class="pln"> </span><span class="kwd">into</span><span class="pln"> download mode </span><span class="kwd">by</span><span class="pln"> holding down </span><span class="typ">Home</span><span class="pun">,</span><span class="pln"> &nbsp;</span><span class="typ">Volume</span><span class="pln"> </span><span class="typ">Down</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> </span><span class="typ">Power</span><span class="pun">.</span><span class="pln"><br></span><span class="lit">2.</span><span class="pln"> </span><span class="typ">Accept</span><span class="pln"> the disclaimer</span><span class="pun">.</span><span class="pln"><br></span><span class="lit">3.</span><span class="pln"> </span><span class="typ">Insert</span><span class="pln"> the USB cable </span><span class="kwd">into</span><span class="pln"> the device</span><span class="pun">.</span><span class="pln"><br><br></span><span class="typ">Now</span><span class="pln"> flash the recovery clockwork image</span><span class="pun">:</span><span class="pln"><br><br>&nbsp; &nbsp; sudo heimdall flash </span><span class="pun">--</span><span class="pln">RECOVERY recovery</span><span class="pun">-</span><span class="pln">clockwork</span><span class="pun">-</span><span class="pln">touch</span><span class="pun">-</span><span class="lit">6.0</span><span class="pun">.</span><span class="lit">3.1</span><span class="pun">-</span><span class="pln">i9300</span><span class="pun">.</span><span class="pln">img </span><span class="pun">--</span><span class="kwd">no</span><span class="pun">-</span><span class="pln">reboot<br><br></span><span class="typ">Newer</span><span class="pun">:</span><span class="pln"><br><br>&nbsp; &nbsp; sudo </span><span class="pun">./</span><span class="typ">Heimdall</span><span class="pun">/</span><span class="pln">build</span><span class="pun">/</span><span class="pln">bin</span><span class="pun">/</span><span class="pln">heimdall flash </span><span class="pun">--</span><span class="pln">RECOVERY recovery</span><span class="pun">-</span><span class="pln">clockwork</span><span class="pun">-</span><span class="pln">touch</span><span class="pun">-</span><span class="lit">6.0</span><span class="pun">.</span><span class="lit">4.6</span><span class="pun">-</span><span class="pln">i9300</span><span class="pun">.</span><span class="pln">img </span><span class="pun">--</span><span class="kwd">no</span><span class="pun">-</span><span class="pln">reboot<br><br></span><span class="com">## Boot into recovery mode</span><span class="pln"><br><br></span><span class="typ">Unplug</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> USB </span><span class="kwd">and</span><span class="pln"> boot </span><span class="typ">ClockworkMod</span><span class="pln"> recovery mode </span><span class="kwd">by</span><span class="pln"> holding </span><span class="typ">Home</span><span class="pun">,</span><span class="pln"> </span><span class="typ">Volume</span><span class="pln"> </span><span class="typ">Up</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> </span><span class="typ">Power</span><span class="pun">.</span><span class="pln"><br><br></span><span class="typ">You</span><span class="pln"> may need to format </span><span class="str">```/sdcard```</span><span class="pun">.</span><span class="pln"> I got errors like<br><br>&nbsp; &nbsp; </span><span class="str">"Error mounting /sdcard/.android_secure!"</span><span class="pln"><br><br>which were solved </span><span class="kwd">by</span><span class="pln"> formatting<br><br></span><span class="str">```/data```</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> </span><span class="str">```/data/media```</span><span class="pln"> </span><span class="pun">(</span><span class="pln">which I think was </span><span class="str">```/sdcard```</span><span class="pun">).</span><span class="pln"><br><br></span><span class="com">## Push CyanogenMod</span><span class="pln"><br><br></span><span class="typ">Some</span><span class="pln"> time </span><span class="kwd">in</span><span class="pln"> the </span><span class="kwd">last</span><span class="pln"> year </span><span class="kwd">or</span><span class="pln"> so </span><span class="typ">Google</span><span class="pln"> removed the ADT download </span><span class="kwd">from</span><span class="pln"> the </span><span class="typ">Android</span><span class="pln"> </span><span class="typ">Developers</span><span class="pln"> site</span><span class="pun">.</span><span class="pln"> </span><span class="typ">For</span><span class="pln"> shame</span><span class="pun">.</span><span class="pln"><br><br></span><span class="typ">How</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> will </span><span class="kwd">this</span><span class="pln"> link work</span><span class="pun">?</span><span class="pln"><br><br>&nbsp; &nbsp; wget http</span><span class="pun">:</span><span class="com">//dl.google.com/android/adt/adt-bundle-linux-x86_64-20140702.zip</span><span class="pln"><br><br></span><span class="typ">Push</span><span class="pln"> cyanogenmod</span><span class="pun">:</span><span class="pln"><br><br>&nbsp; &nbsp; sudo </span><span class="pun">./</span><span class="pln">adt</span><span class="pun">-</span><span class="pln">bundle</span><span class="pun">-</span><span class="pln">linux</span><span class="pun">-</span><span class="pln">x86_64</span><span class="pun">-</span><span class="lit">20130729</span><span class="pun">/</span><span class="pln">sdk</span><span class="pun">/</span><span class="pln">platform</span><span class="pun">-</span><span class="pln">tools</span><span class="pun">/</span><span class="pln">adb push cm</span><span class="pun">-</span><span class="lit">10.2</span><span class="pun">.</span><span class="lit">0</span><span class="pun">-</span><span class="pln">i9300</span><span class="pun">.</span><span class="pln">zip </span><span class="pun">/</span><span class="pln">sdcard</span><span class="pun">/</span><span class="pln"><br><br></span><span class="typ">Or</span><span class="pun">,</span><span class="pln"> push slim </span><span class="kwd">and</span><span class="pln"> fdroid</span><span class="pun">:</span><span class="pln"><br><br>&nbsp; &nbsp; sudo </span><span class="pun">./</span><span class="pln">adt</span><span class="pun">-</span><span class="pln">bundle</span><span class="pun">-</span><span class="pln">linux</span><span class="pun">-</span><span class="pln">x86_64</span><span class="pun">-</span><span class="lit">20140702</span><span class="pun">/</span><span class="pln">sdk</span><span class="pun">/</span><span class="pln">platform</span><span class="pun">-</span><span class="pln">tools</span><span class="pun">/</span><span class="pln">adb push </span><span class="typ">FDroid</span><span class="pun">.</span><span class="pln">apk &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">/</span><span class="pln">sdcard</span><span class="pun">/</span><span class="pln"><br>&nbsp; &nbsp; sudo </span><span class="pun">./</span><span class="pln">adt</span><span class="pun">-</span><span class="pln">bundle</span><span class="pun">-</span><span class="pln">linux</span><span class="pun">-</span><span class="pln">x86_64</span><span class="pun">-</span><span class="lit">20140702</span><span class="pun">/</span><span class="pln">sdk</span><span class="pun">/</span><span class="pln">platform</span><span class="pun">-</span><span class="pln">tools</span><span class="pun">/</span><span class="pln">adb push </span><span class="typ">Slim</span><span class="pun">-</span><span class="typ">Addons</span><span class="pun">-</span><span class="pln">mini_gapps</span><span class="pun">.</span><span class="lit">4.4</span><span class="pun">.</span><span class="lit">4.build</span><span class="pun">.</span><span class="lit">9</span><span class="pun">-</span><span class="lit">20150107.zip</span><span class="pln"> </span><span class="pun">/</span><span class="pln">sdcard</span><span class="pun">/</span><span class="pln"><br>&nbsp; &nbsp; sudo </span><span class="pun">./</span><span class="pln">adt</span><span class="pun">-</span><span class="pln">bundle</span><span class="pun">-</span><span class="pln">linux</span><span class="pun">-</span><span class="pln">x86_64</span><span class="pun">-</span><span class="lit">20140702</span><span class="pun">/</span><span class="pln">sdk</span><span class="pun">/</span><span class="pln">platform</span><span class="pun">-</span><span class="pln">tools</span><span class="pun">/</span><span class="pln">adb push </span><span class="typ">Slim</span><span class="pun">-</span><span class="pln">i9300</span><span class="pun">-</span><span class="lit">4.4</span><span class="pun">.</span><span class="lit">4.build</span><span class="pun">.</span><span class="lit">9.0</span><span class="pun">-</span><span class="pln">OFFICIAL</span><span class="pun">-</span><span class="lit">8312.zip</span><span class="pln"> &nbsp; &nbsp; &nbsp;</span><span class="pun">/</span><span class="pln">sdcard</span><span class="pun">/</span><span class="pln"><br><br></span><span class="com">## Install Lil' Debian</span><span class="pln"><br><br></span><span class="typ">In</span><span class="pln"> the F</span><span class="pun">-</span><span class="typ">Droid</span><span class="pln"> app</span><span class="pun">,</span><span class="pln"> search </span><span class="kwd">for</span><span class="pln"><br></span><span class="pun">[</span><span class="typ">Lil</span><span class="str">' Debian](https://f-droid.org/repository/browse/?fdfilter=debian&amp;fdid=info.guardianproject.lildebi).<br><br>Open a terminal in Lil'</span><span class="pln"> </span><span class="typ">Debian</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> install </span><span class="str">```net-tools```</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="str">```ifconfig```</span><span class="pun">:</span><span class="pln"><br><br>&nbsp; &nbsp; apt</span><span class="pun">-</span><span class="kwd">get</span><span class="pln"> install net</span><span class="pun">-</span><span class="pln">tools<br><br></span><span class="typ">Logging</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> can be slow </span><span class="pun">(</span><span class="pln">over ssh</span><span class="pun">)</span><span class="pln"> because the ssh daemon tries to </span><span class="kwd">do</span><span class="pln"> a reverse DNS</span><span class="pun">.</span><span class="pln"> </span><span class="typ">Turn</span><span class="pln"> </span><span class="kwd">this</span><span class="pln"> off</span><span class="pun">:</span><span class="pln"><br><br>&nbsp; &nbsp; echo </span><span class="str">"UseDNS no"</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="str">/etc/</span><span class="pln">ssh</span><span class="pun">/</span><span class="pln">sshd_config<br>&nbsp; &nbsp; </span><span class="pun">/</span><span class="pln">etc</span><span class="pun">/</span><span class="pln">init</span><span class="pun">.</span><span class="pln">d</span><span class="pun">/</span><span class="pln">ssh restart<br><br></span><span class="com">## SSH to the phone</span><span class="pln"><br><br></span><span class="typ">First</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> a terminal </span><span class="kwd">in</span><span class="pln"> the phone</span><span class="pun">,</span><span class="pln"> check the IP address </span><span class="kwd">using</span><span class="pln"> </span><span class="str">```ifconfig```</span><span class="pun">.</span><span class="pln"><br><br></span><span class="typ">Then</span><span class="pun">,</span><span class="pln"> </span><span class="str">```ssh root@a.b.c.d```</span><span class="pun">.</span><span class="pln"> </span><span class="typ">You</span><span class="pln"> will find the </span><span class="typ">Android</span><span class="pln"> file<br>system automounted</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> example the downloads directory </span><span class="kwd">is</span><span class="pln"> at </span><span class="str">```/mnt/shell/emulated/0/Download```</span><span class="pun">.</span><span class="pln"><br><br></span><span class="typ">Now</span><span class="pln"> you can </span><span class="kwd">do</span><span class="pln"> all the usual ssh things like adding passwordless login </span><span class="kwd">using</span><span class="pln"> </span><span class="str">```authorized_keys```</span><span class="pun">.</span><span class="pln"><br><br>I added </span><span class="kwd">this</span><span class="pln"> entry </span><span class="kwd">for</span><span class="pln"> </span><span class="kwd">my</span><span class="pln"> phone</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> it has a </span><span class="kwd">fixed</span><span class="pln"> IP address at home</span><span class="pun">:</span><span class="pln"> </span><span class="str">```$HOME/.ssh/config```</span><span class="pun">:</span><span class="pln"><br><br>&nbsp; &nbsp; host samsung</span><span class="pun">-</span><span class="pln">s3</span><span class="pun">-</span><span class="pln">at</span><span class="pun">-</span><span class="pln">home<br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">Hostname</span><span class="pln"> </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.3</span><span class="pln"><br>&nbsp; &nbsp; &nbsp; &nbsp; </span><span class="typ">User</span><span class="pln"> root<br><br></span><span class="typ">So</span><span class="pln"> I can </span><span class="kwd">do</span><span class="pln"> </span><span class="str">```ssh samsung-s3-at-home```</span><span class="pln"> without having to specify the username</span><span class="pun">.</span><span class="pln"><br><br></span><span class="com"># Encryption</span><span class="pln"><br><br>I prefer to have a strong password </span><span class="kwd">for</span><span class="pln"> the device encryption but<br>a weaker one </span><span class="pun">(</span><span class="pln">a PIN perhaps</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">as</span><span class="pln"> the screen unlock</span><span class="pun">.</span><span class="pln"> </span><span class="typ">To</span><span class="pln"> achieve </span><span class="kwd">this</span><span class="pun">,</span><span class="pln"><br>encrypt the device </span><span class="kwd">with</span><span class="pln"> the weaker option </span><span class="pun">(</span><span class="pln">e</span><span class="pun">.</span><span class="pln">g</span><span class="pun">.</span><span class="pln"> a PIN</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> </span><span class="kwd">then</span><span class="pln"> change<br>the device encryption password </span><span class="kwd">with</span><span class="pun">:</span><span class="pln"><br><br>&nbsp; &nbsp; vdc cryptfs changepw </span><span class="str">'newpass'</span><span class="pln"><br><br></span><span class="com"># Further reading</span><span class="pln"><br><br>http</span><span class="pun">:</span><span class="com">//wiki.cyanogenmod.org/w/Install_CM_for_i9300</span></pre>
        
    </div>
    
    <div class="gist-meta">
        
        <span><a href="https://github.com/carlohamalainen/dotfiles/blob/master/cyanogenmod.md">This Gist</a> brought to you by <a href="http://gist-it.appspot.com/">gist-it</a>.</span>
        
        <span style="float: right; color: #369;"><a href="https://github.com/carlohamalainen/dotfiles/raw/master/cyanogenmod.md">view raw</a></span>
        <span style="float: right; margin-right: 8px;">
            <a style="color: rgb(102, 102, 102);" href="https://github.com/carlohamalainen/dotfiles/blob/master/cyanogenmod.md">cyanogenmod.md</a></span>
            <!-- Generated by: http://gist-it.appspot.com -->
    </div>
    
</div>
</div><script type="text/javascript">prettyPrint();</script> <p></p>

<p> Here's what I see when logged in to my phone: </p>

<pre>root@localhost:~# uptime
 16:53:39 up  4:40,  1 user,  load average: 5.94, 11.37, 6.61

root@localhost:~# uname -a
Linux localhost 3.0.64-CM-gd6f2f4a #1 SMP PREEMPT Mon Dec 2 21:12:34 PST 2013 armv7l GNU/Linux

root@localhost:~# free -m
             total       used       free     shared    buffers     cached
Mem:           832        813         19          0          2        213
-/+ buffers/cache:        597        235
Swap:            0          0          0

root@localhost:~# df -h
df: `/mnt/fuse': No such file or directory
df: `/preload': No such file or directory
Filesystem             Size  Used Avail Use% Mounted on
rootfs                 592M  252M  310M  45% /
tmpfs                  592M  252M  310M  45% /dev
tmpfs                  592M  252M  310M  45% /mnt/secure
tmpfs                  417M     0  417M   0% /mnt/asec
tmpfs                  417M     0  417M   0% /mnt/obb
/dev/block/mmcblk0p3    20M  8.6M   12M  44% /efs
/dev/block/mmcblk0p9   1.5G  437M  1.1G  29% /system
/dev/block/mmcblk0p8  1008M   18M  991M   2% /cache
/dev/block/mmcblk0p12   12G  980M   11G   9% /data
/dev/fuse               12G  980M   11G   9% /mnt/shell/emulated
/dev/block/loop0       592M  252M  310M  45% /
tmpfs                  417M     0  417M   0% /tmp
/dev/fuse               12G  980M   11G   9% /mnt/sdcard
/dev/block/mmcblk0p8  1008M   18M  991M   2% /cache
/dev/block/mmcblk0p12   12G  980M   11G   9% /data
/dev/block/mmcblk0p3    20M  8.6M   12M  44% /efs
tmpfs                  417M     0  417M   0% /mnt/asec
tmpfs                  417M     0  417M   0% /mnt/obb
/dev/fuse               12G  980M   11G   9% /mnt/shell/emulated
/dev/block/mmcblk0p9   1.5G  437M  1.1G  29% /system

root@localhost:~# route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         192.168.1.1     0.0.0.0         UG    0      0        0 wlan0
0.0.0.0         192.168.1.1     0.0.0.0         UG    308    0        0 wlan0
192.168.1.0     0.0.0.0         255.255.255.0   U     0      0        0 wlan0
192.168.1.0     0.0.0.0         255.255.255.0   U     308    0        0 wlan0
192.168.1.1     0.0.0.0         255.255.255.255 UH    0      0        0 wlan0

root@localhost:~# cat /proc/cpuinfo 
Processor   : ARMv7 Processor rev 0 (v7l)
processor   : 0
BogoMIPS    : 1592.52

Features    : swp half thumb fastmult vfp edsp neon vfpv3 tls 
CPU implementer : 0x41
CPU architecture: 7
CPU variant : 0x3
CPU part    : 0xc09
CPU revision    : 0

Chip revision   : 0011
Hardware    : SMDK4x12
Revision    : 000c
Serial      : 230fbf574df75916
</pre>
<section class="comments"><div id="comments"></div></section></article></div>
<h2>Comments</h2>
<br>
<p>No comments</p>
<section><h1>Add your comment</h1>
<form method="post" enctype="application/x-www-form-urlencoded" lpformnum="1"><input type="hidden" name="_token" value="Qyk95aNcJj">
<div class="required "><label for="hident2">Name</label><input id="hident2" name="f1" type="text" required="" value="" style="background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABHklEQVQ4EaVTO26DQBD1ohQWaS2lg9JybZ+AK7hNwx2oIoVf4UPQ0Lj1FdKktevIpel8AKNUkDcWMxpgSaIEaTVv3sx7uztiTdu2s/98DywOw3Dued4Who/M2aIx5lZV1aEsy0+qiwHELyi+Ytl0PQ69SxAxkWIA4RMRTdNsKE59juMcuZd6xIAFeZ6fGCdJ8kY4y7KAuTRNGd7jyEBXsdOPE3a0QGPsniOnnYMO67LgSQN9T41F2QGrQRRFCwyzoIF2qyBuKKbcOgPXdVeY9rMWgNsjf9ccYesJhk3f5dYT1HX9gR0LLQR30TnjkUEcx2uIuS4RnI+aj6sJR0AM8AaumPaM/rRehyWhXqbFAA9kh3/8/NvHxAYGAsZ/il8IalkCLBfNVAAAAABJRU5ErkJggg==); background-attachment: scroll; background-position: 100% 50%; background-repeat: no-repeat;"></div><div class="optional"><label for="hident3">email (not published)</label><input id="hident3" name="f2" type="email" value=""></div><div class="optional"><label for="hident4">URL (optional)</label><input id="hident4" name="f3" type="url" value="">
</div><div class="required "><label for="hident5">Comment</label><textarea required="" id="hident5" name="f4"></textarea></div><div class="required "><label for="recaptcha_challenge_field"></label><script src="./Free SSH daemon on Android_files/challenge"></script><script type="text/javascript" src="./Free SSH daemon on Android_files/recaptcha.js"></script><div id="recaptcha_widget_div" style="" class=" recaptcha_nothad_incorrect_sol recaptcha_isnot_showing_audio"><div id="recaptcha_area"><table id="recaptcha_table" class="recaptchatable recaptcha_theme_red"> <tbody><tr> <td colspan="6" class="recaptcha_r1_c1"></td> </tr> <tr> <td class="recaptcha_r2_c1"></td> <td colspan="4" class="recaptcha_image_cell"><center><div id="recaptcha_image" style="width: 300px; height: 57px;"><img id="recaptcha_challenge_image" alt="reCAPTCHA-Bild" height="57" width="300" src="./Free SSH daemon on Android_files/image"></div></center></td> <td class="recaptcha_r2_c2"></td> </tr> <tr> <td rowspan="6" class="recaptcha_r3_c1"></td> <td colspan="4" class="recaptcha_r3_c2"></td> <td rowspan="6" class="recaptcha_r3_c3"></td> </tr> <tr> <td rowspan="3" class="recaptcha_r4_c1" height="49"> <div class="recaptcha_input_area"> <span id="recaptcha_challenge_field_holder" style="display: none;"><input type="hidden" name="recaptcha_challenge_field" id="recaptcha_challenge_field" value="03AHJ_Vutzi6pXqJ3d5JRAT9C-GOf9OwmmF7h9k6YSEkzyhjx6vuNcuigFD_iGR2ZBDaQMr3zZ5VVPWQ4jZUN8z9xS79ydD8btLaBjA-UHvUpivy3lsB9ZyfOOMM2xvpBEokeBaWfHnsNt14ot9lnb828DFl0ZqJOlDEfL5E8icKZR8Bp_3WE0G_ub48DuKG_bF_DrdKu-m8pEVCQ7PhlZsNmQCeCd2l84nyhBClDxYazj2UQViMD9QWjRyKUJ05EVR7QV4VdcyHf1TkbPzxDY_l7REZaCOcusRQ"></span><input name="recaptcha_response_field" id="recaptcha_response_field" type="text" autocorrect="off" autocapitalize="off" placeholder="Geben Sie den angezeigten Text ein" autocomplete="off"> <span id="recaptcha_privacy" class="recaptcha_only_if_privacy"></span> </div> </td> <td rowspan="4" class="recaptcha_r4_c2"></td> <td><a id="recaptcha_reload_btn" title="Neues Captcha abrufen"><img id="recaptcha_reload" width="25" height="17" src="./Free SSH daemon on Android_files/refresh.gif" alt="Neues Captcha abrufen"></a></td> <td rowspan="4" class="recaptcha_r4_c4"></td> </tr> <tr> <td><a id="recaptcha_switch_audio_btn" class="recaptcha_only_if_image" title="Audio-Captcha abrufen"><img id="recaptcha_switch_audio" width="25" height="16" alt="Audio-Captcha abrufen" src="./Free SSH daemon on Android_files/audio.gif"></a><a id="recaptcha_switch_img_btn" class="recaptcha_only_if_audio" title="Captcha abrufen"><img id="recaptcha_switch_img" width="25" height="16" alt="Captcha abrufen" src="./Free SSH daemon on Android_files/text.gif"></a></td> </tr> <tr> <td><a id="recaptcha_whatsthis_btn" title="Hilfe"><img id="recaptcha_whatsthis" width="25" height="16" src="./Free SSH daemon on Android_files/help.gif" alt="Hilfe"></a></td> </tr> <tr> <td class="recaptcha_r7_c1"></td> <td class="recaptcha_r8_c1"></td> </tr> </tbody></table> </div></div>
<noscript>&lt;iframe src="http://www.google.com/recaptcha/api/noscript?k=6LdYROUSAAAAAJRhDFZ-Dj6N-Mpt2m-fYqwumpjp" height="300" width="500" frameborder="0"&gt;&lt;/iframe&gt;
&lt;br&gt;
&lt;textarea name="recaptcha_challenge_field" rows="3" cols="40"&gt;&lt;/textarea&gt;
&lt;input type="hidden" name="recaptcha_response_field" value="manual_challenge"&gt;
</noscript>
</div>
<div><input type="submit" value="Submit">
</div>
</form>
</section>


</div><footer>Copyright Carlo Hamalainen 2007-2015</footer><iframe src="about:blank" style="height: 0px; width: 0px; visibility: hidden; border: none; display: none;">This frame prevents back/forward cache problems in Safari.</iframe><script id="hiddenlpsubmitdiv" style="display: none;"></script><script>try{for(var lastpass_iter=0; lastpass_iter < document.forms.length; lastpass_iter++){ var lastpass_f = document.forms[lastpass_iter]; if(typeof(lastpass_f.lpsubmitorig2)=="undefined"){ lastpass_f.lpsubmitorig2 = lastpass_f.submit; if (typeof(lastpass_f.lpsubmitorig2)=='object'){ continue;}lastpass_f.submit = function(){ var form=this; var customEvent = document.createEvent("Event"); customEvent.initEvent("lpCustomEvent", true, true); var d = document.getElementById("hiddenlpsubmitdiv"); if (d) {for(var i = 0; i < document.forms.length; i++){ if(document.forms[i]==form){ if (typeof(d.innerText) != 'undefined') { d.innerText=i.toString(); } else { d.textContent=i.toString(); } } } d.dispatchEvent(customEvent); }form.lpsubmitorig2(); } } }}catch(e){}</script></body></html>